#!/bin/env php
<?php
// do not concern about notices generated by unserialize
error_reporting(E_ALL & ~E_NOTICE);

// don't wait on stdin if input comes
stream_set_blocking(STDIN, 0);

for ($s = ''; ($tmp = fgets(STDIN, 8192)) !== false; $s .= $tmp);
if (!($s = trim($s))) {
    exit('No imput on sdtin');
}
// print only result if it could be deserialized - else print stdin value
var_export(($data = unserialize($s)) ? $data : $s);
